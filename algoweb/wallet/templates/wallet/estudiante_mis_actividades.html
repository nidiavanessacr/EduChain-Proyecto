{% extends "wallet/base.html" %}
{% block title %}Mis Actividades{% endblock %}

{% block content %}

<style>
    .title {
        text-align: center;
        color: #007bb5;
        font-size: 28px;
        margin-bottom: 25px;
        font-weight: bold;
    }

    .cards-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 25px;
    }

    .card {
        background: white;
        width: 330px;
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 3px 6px rgba(0,0,0,0.15);
        text-align: center;
    }

    .emoji { font-size: 45px; margin-bottom: 8px; }
    .label { font-weight: bold; color: #333; margin-top: 8px; }

    .btn {
        display: block;
        padding: 10px;
        color: white;
        border-radius: 6px;
        font-weight: bold;
        text-decoration: none;
        margin-top: 12px;
    }

    .btn-entregar { background:#00a3e0; }
    .btn-entregar:hover { background:#0085ba; }

    .status {
        padding: 6px 10px;
        border-radius: 6px;
        font-weight: bold;
        display: inline-block;
        margin-top: 10px;
    }

    .pendiente { background:#ffe7a0; color:#a77700; }
    .entregada { background:#c9f7c5; color:#2d7a2e; }
    .finalizada { background:#b9d9ff; color:#004b93; }
</style>

<h2 class="title">ðŸ“˜ Mis Actividades</h2>

<div class="cards-container">

{% for asignacion in actividades %}
<div class="card">

    <div class="emoji">ðŸ“„</div>
    <h3 style="color:#007bb5;">{{ asignacion.actividad.titulo }}</h3>

    <p class="label">DescripciÃ³n:</p>
    <p>{{ asignacion.actividad.descripcion }}</p>

    <p class="label">Fecha de entrega:</p>
    <p>{{ asignacion.actividad.fecha_entrega|date:"d \\d\\e F \\d\\e Y" }}</p>


    <p class="label">Recompensa:</p>
    <p>{{ asignacion.actividad.recompensa }} ALGOs</p>

    <p class="label">Estado:</p>

    {% if asignacion.finalizada %}
        <span class="status finalizada">Finalizada</span>
    {% elif asignacion.entregada %}
        <span class="status entregada">Entregada</span>
    {% else %}
        <span class="status pendiente">Pendiente</span>
    {% endif %}

    {% if not asignacion.entregada %}
    <a href="{% url 'estudiante_entregar' asignacion.id %}" class="btn btn-entregar">
        Entregar Actividad
    </a>
    {% endif %}

</div>
{% empty %}
<p style="text-align:center; font-size:18px; color:#666;">
    No tienes actividades asignadas aÃºn.
</p>
{% endfor %}

</div>

{% endblock %}
